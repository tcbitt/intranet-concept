<div class="widget-grid">
    {% for profile in page_obj %}
    <div class="widget-card">
        <div class="card-header">
            <strong>{{ profile.user.get_full_name }}</strong>
        </div>
        <div class="card-body">
            <p>{{ profile.department.name }}</p>
            <p>{{ profile.role.name }}</p>
            <p><a href="mailto:{{ profile.user.email }}">{{ profile.user.email }}</a></p>
            <p>{{ profile.phone }}</p>
            <p>716-692-1600 x{{ profile.extension }}</p>
        </div>
    </div>
    {% empty %}
    <p class="no-results">No matches found.</p>
    {% endfor %}
</div>

{% if page_obj.has_other_pages %}
<div class="pagination">
    {% if page_obj.has_previous %}
    <a href="?search={{ search }}&page={{ page_obj.previous_page_number }}" class="pagination-link" data-section="directory-section">← Previous</a>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
    <strong>{{ num }}</strong>
    {% else %}
    <a href="?search={{ search }}&page={{ num }}" class="pagination-link" data-section="directory-section">{{ num }}</a>
    {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
    <a href="?search={{ search }}&page={{ page_obj.next_page_number }}" class="pagination-link" data-section="directory-section">Next →</a>
    {% endif %}
</div>
{% endif %}
